<?xml version="1.0" encoding="ISO-8859-1"?>
<!--
    Relación de consultas para las tablas de MANTIC
-->
<process>
  <model>    
  </model>

  <dml>	
    <unit id="TcManticPersonasDto">
      <select id="row">
        select 
        tc_mantic_personas.*,tc_mantic_personas.id_persona as id_key
        from
        tc_mantic_personas
        where 
        {condicion}
        order by
          paterno,materno,nombres
      </select>
      <select id="identically">
        select 
          *
        from
          tc_mantic_personas
        where
          rfc='{rfc}' and curp='{curp}'
      </select>
      <select id="curp">
        select
        *
        from
        tc_mantic_personas
        where
        curp='{curp}'
      </select>
      <select id="findUsuario">
        select
          *
        from
        tc_mantic_personas
        where
        cuenta = '{cuenta}'
      </select>
      <select id="nombre">
        select
        *
        from
        tc_mantic_personas
        where
        lower(nombres)= lower('{nombres}')
        and lower(paterno)= lower('{paterno}')
        and lower(materno)= lower('{materno}')
      </select>
    </unit>    
		<unit id="TcManticCategoriasDto">
      <select id="row">
        select 
          tc_mantic_categorias.id_categoria as id_key,
          tc_mantic_categorias.*
        from
          tc_mantic_categorias
        where 
          {condicion}
				order by 
					clave, nivel
      </select>
      <select id="identically">
        select      
          *
        from      
          tc_mantic_categorias
        where      
          clave = '{clave}'
				order by
					clave, nivel
      </select>			
			<select id="find">
				select 
				  tc_mantic_categorias.id_categoria as id_key,
					tc_mantic_categorias.*
				from
					tc_mantic_categorias
				where 
					upper(nombre) like upper('%{nombre}%')
				and 
					upper(descripcion) like upper('%{descripcion}%')
				{sortOrder}				
			</select>
		</unit>	
    <unit id="TrManticArticuloPrecioSugeridoDto">
      <select id="row">
        select      
          *
        from      
          tr_mantic_articulo_precio_sugerido
        where 
          {condicion} 
      </select>
      <select id="identically">
        select      
          *
        from      
          tr_mantic_articulo_precio_sugerido
        where      
          id_proveedor = {idProveedor} and precio = {precio} and descuento = {descuento} and id_articulo = {idArticulo} and id_articulo_precio_sugerido = {idArticuloPrecioSugerido}
      </select>
			<select id="maximo">
        select      
          max(id_articulo_precio_sugerido) maximo
        from      
          tr_mantic_articulo_precio_sugerido
      </select>
			 <select id="rows">
        delte from tr_mantic_articulo_precio_sugerido where id_articulo= {idArticulo} 
      </select>
    </unit>
    
     <unit id="TrManticAlmacenDomicilioDto">
      <select id="row">
        select      
          *
        from      
          tr_mantic_almacen_domicilio
        where 
          {condicion} 
      </select>
      <select id="identically">
        select      
          *
        from      
          tr_mantic_almacen_domicilio
        where      
          id_almacen_domicilio = {idAlmacenDomicilio} and id_almacen = {idAlmacen} and id_tipo_domicilio = {idTipoDomicilio} and id_domicilio = {idDomicilio} and id_principal = {idPrincipal}
      </select>
    </unit>
    
    <unit id="TrManticAlmacenTipoContactoDto">
      <select id="row">
        select      
          *
        from      
          tr_mantic_almacen_tipo_contacto
        where 
          {condicion} 
      </select>
      <select id="identically">
        select      
          *
        from      
          tr_mantic_almacen_tipo_contacto
        where      
          id_almacen = {idAlmacen} and id_almacen_tipo_contacto = {idAlmacenTipoContacto} and id_tipo_contacto = {idTipoContacto}
      </select>
    </unit>
    <unit id="TrManticArticuloClienteDescuentoDto">
      <select id="row">
        select      
          *
        from      
          tr_mantic_articulo_cliente_descuento
        where 
          {condicion} 
      </select>
      <select id="identically">
        select      
          *
        from      
          tr_mantic_articulo_cliente_descuento
        where      
          vigencia_final = '{vigenciaFinal}' and vigencia_inicial = '{vigenciaInicial}' and id_cliente = {idCliente} and id_articulo_cliente_descuentio = {idArticuloClienteDescuentio} and porcentaje = {porcentaje} and id_articulo = {idArticulo}
      </select>
			<select id="maximo">
        select      
          max(id_articulo_cliente_descuentio) maximo
        from      
          tr_mantic_articulo_cliente_descuento
      </select>
			<select id="rows">
        delte from tr_mantic_articulo_cliente_descuento where id_articulo={idArticulo} 
      </select>
    </unit>
    
    <unit id="TrManticArticuloCodigoDto">
      <select id="row">
        select      
          *
        from      
          tr_mantic_articulo_codigo
        where 
          {condicion} 
      </select>
      <select id="identically">
        select      
          *
        from      
          tr_mantic_articulo_codigo
        where      
          codigo = '{codigo}' and id_articulo_codigo = {idArticuloCodigo} and id_articulo = {idArticulo}
      </select>      
    </unit>
    
     <unit id="TrManticArticuloPresentacionDto">
      <select id="row">
        select      
          *
        from      
          tr_mantic_articulo_presentacion
        where 
          {condicion} 
      </select>
      <select id="identically">
        select      
          *
        from      
          tr_mantic_articulo_presentacion
        where      
          id_articulo_presentacion = {idArticuloPresentacion} and id_articulo = {idArticulo} and id_presentacion_unidad_medida = {idPresentacionUnidadMedida}
      </select>
    </unit>
    
     <unit id="TrManticArticuloProveedorDto">
      <select id="row">
        select      
          *
        from      
          tr_mantic_articulo_proveedor
        where 
          {condicion} 
      </select>
      <select id="identically">
        select      
          *
        from      
          tr_mantic_articulo_proveedor
        where      
          id_proveedor = {idProveedor} and id_articulo_proveedor = {idArticuloProveedor} and id_articulo = {idArticulo} and registro = '{registro}'
      </select>
			<select id="maximo">
        select      
          max(id_articulo_proveedor) maximo
        from      
          tr_mantic_articulo_proveedor
      </select>
			<select id="rows">
        delete from tr_mantic_articulo_proveedor where id_articulo={idArticulo} 
      </select>
    </unit>
    
     <unit id="TrManticArticuloTipoVentaDto">
      <select id="row">
        select      
          *
        from      
          tr_mantic_articulo_tipo_venta
        where 
          {condicion} 
      </select>
      <select id="identically">
        select      
          *
        from      
          tr_mantic_articulo_tipo_venta
        where      
          id_articulo_tipo_venta = {idArticuloTipoVenta} and id_articulo = {idArticulo} and id_tipo_venta = {idTipoVenta}
      </select>
			<select id="maximo">
        select      
          max(id_articulo_tipo_venta) maximo
        from      
          tr_mantic_articulo_tipo_venta
      </select>
			<select id="rows">
        delete from tr_mantic_articulo_tipo_venta where id_articulo={idArticulo} 
      </select>
    </unit>
    
     <unit id="TrManticArticulosPreciosOfertadosDto">
      <select id="row">
        select      
          *
        from      
          tr_mantic_articulos_precios_ofertados
        where 
          {condicion} 
      </select>
      <select id="identically">
        select      
          *
        from      
          tr_mantic_articulos_precios_ofertados
        where      
          id_proveedor = {idProveedor} and precio = {precio} and id_articulo_precio_ofertado = {idArticuloPrecioOfertado} and descuento = {descuento} and id_articulo = {idArticulo}
      </select>
    </unit>
    
     <unit id="TrManticClientesRepresentantesDto">
      <select id="row">
        select      
          *
        from      
          tr_mantic_clientes_representantes
        where 
          {condicion} 
      </select>
      <select id="identically">
        select      
          *
        from      
          tr_mantic_clientes_representantes
        where      
          id_cliente = {idCliente} and id_cliente_representante = {idClienteRepresentante} and id_representante = {idRepresentante} and id_principal = {idPrincipal}
      </select>
			<select id="maximo">
        select      
          max(id_cliente_representante) maximo
        from      
          tr_mantic_clientes_representantes
      </select>
			<select id="rows">
        delete from tr_mantic_clientes_representantes where id_cliente={idCliente}
      </select>
    </unit>
    
    <unit id="TrManticEmpaqueUnidadMedidaDto">
      <select id="row">
        select      
          *
        from      
          tr_mantic_empaque_unidad_medida
        where 
          {condicion} 
      </select>
      <select id="identically">
        select      
          *
        from      
          tr_mantic_empaque_unidad_medida
        where      
          id_unidad_medida = {idUnidadMedida} and id_empaque_unidad_medida = {idEmpaqueUnidadMedida} and id_empaque = {idEmpaque}
      </select>
    </unit>
    
     <unit id="TrManticEmpresaDomicilioDto">
      <select id="row">
        select      
          *
        from      
          tr_mantic_empresa_domicilio
        where 
          {condicion} 
      </select>
      <select id="identically">
        select      
          *
        from      
          tr_mantic_empresa_domicilio
        where      
          id_usuario = {idUsuario} and id_tipo_domicilio = {idTipoDomicilio} and id_domicilio = {idDomicilio} and id_principal = {idPrincipal} and id_empresa_domicilio = {idEmpresaDomicilio} and id_empresa = {idEmpresa}
      </select>
    </unit>
    <unit id="TrManticEmpresaPersonalDto">
      <select id="row">
        select      
          *
        from      
          tr_mantic_empresa_personal
        where 
          {condicion} 
      </select>
      <select id="identically">
        select      
          *
        from      
          tr_mantic_empresa_personal
        where      
          id_persona = {idPersona} and id_puesto = {idPuesto} and id_empresa_persona = {idEmpresaPersona} and id_empresa = {idEmpresa}
      </select>
    </unit>
    
    <unit id="TrManticEmpresaTipoContactoDto">
      <select id="row">
        select      
          *
        from      
          tr_mantic_empresa_tipo_contacto
        where 
          {condicion} 
      </select>
      <select id="identically">
        select      
          *
        from      
          tr_mantic_empresa_tipo_contacto
        where      
          id_empresa_tipo_contacto = {idEmpresaTipoContacto} and id_empresa = {idEmpresa} and id_tipo_contacto = {idTipoContacto}
      </select>
    </unit>
    
     <unit id="TrManticOrdenCompraCargoDto">
      <select id="row">
        select      
          *
        from      
          tr_mantic_orden_compra_cargo
        where 
          {condicion} 
      </select>
      <select id="identically">
        select      
          *
        from      
          tr_mantic_orden_compra_cargo
        where      
          id_orden_compra = {idOrdenCompra} and id_orden_compra_cargo = {idOrdenCompraCargo} and porcentaje = {porcentaje} and importe = {importe} and id_cargo_compra = {idCargoCompra}
      </select>
    </unit>
    
     <unit id="TrManticPersonaDomicilioDto">
      <select id="row">
        select      
          *
        from      
          tr_mantic_persona_domicilio
        where 
          {condicion} 
      </select>
      <select id="identically">
        select      
          *
        from      
          tr_mantic_persona_domicilio
        where      
          id_persona = {idPersona} and id_persona_domicilio = {idPersonaDomicilio} and id_usuario = {idUsuario} and id_tipo_domicilio = {idTipoDomicilio} and id_domicilio = {idDomicilio} and id_principal = {idPrincipal}
      </select>
    </unit>
    
    <unit id="TrManticPersonaTipoContactoDto">
      <select id="row">
        select      
          *
        from      
          tr_mantic_persona_tipo_contacto
        where 
          {condicion} 
      </select>
      <select id="identically">
        select      
          *
        from      
          tr_mantic_persona_tipo_contacto
        where      
          id_persona = {idPersona} and id_persona_tipo_contacto = {idPersonaTipoContacto} and id_tipo_contacto = {idTipoContacto}
      </select>
    </unit>
    
     <unit id="TrManticProveedorDomicilioDto">
      <select id="row">
        select      
          *
        from      
          tr_mantic_proveedor_domicilio
        where 
          {condicion} 
      </select>
      <select id="identically">
        select      
          *
        from      
          tr_mantic_proveedor_domicilio
        where      
          id_proveedor = {idProveedor} and id_proveedor_domicilio = {idProveedorDomicilio} and id_tipo_domicilio = {idTipoDomicilio} and id_domicilio = {idDomicilio} and id_principal = {idPrincipal}
      </select>
    </unit>
    
     <unit id="TrManticProveedorPagoDto">
      <select id="row">
        select      
          *
        from      
          tr_mantic_proveedor_pago
        where 
          {condicion} 
        order  by 
          id_tipo_pago
      </select>
      <select id="identically">
        select      
          *
        from      
          tr_mantic_proveedor_pago
        where      
          id_proveedor_pago = {idProveedorPago} and id_proveedor = {idProveedor} and id_tipo_pago = {idTipoPago}
      </select>
    </unit>
    
    <unit id="TrManticProveedorPersonaDto">
      <select id="row">
        select      
          *
        from      
          tr_mantic_proveedor_persona
        where 
          {condicion}       
      </select>
      <select id="identically">
        select      
          *
        from      
          tr_mantic_proveedor_persona
        where      
          id_proveedor = {idProveedor} and id_persona = {idPersona} and id_proveedor_persona = {idProveedorPersona} and id_responsable = {idResponsable}
      </select>
    </unit>
    
    <unit id="TrManticProveedorTipoContactoDto">
      <select id="row">
        select      
          *
        from      
          tr_mantic_proveedor_tipo_contacto
        where 
          {condicion} 
      </select>
      <select id="identically">
        select      
          *
        from      
          tr_mantic_proveedor_tipo_contacto
        where      
          id_proveedor = {idProveedor} and id_proveedor_tipo_contacto = {idProveedorTipoContacto} and id_tipo_contacto = {idTipoContacto}
      </select>
    </unit>
    
    <unit id="TrManticProveedoresAgentesDto">
      <select id="row">
        select      
          *
        from      
          tr_mantic_proveedores_agentes
        where 
          {condicion} 
      </select>
      <select id="identically">
        select      
          *
        from      
          tr_mantic_proveedores_agentes
        where      
          id_proveedor = {idProveedor} and id_proveedor_agente = {idProveedorAgente} and id_principal = {idPrincipal} and id_agente = {idAgente}
      </select>
    </unit>
		<unit id="TcManticEmpaquesDto">
			<select id="row">
				select 
					tc_mantic_empaques.id_empaque as id_key,
					tc_mantic_empaques.*
				from
					tc_mantic_empaques
				where 
					{condicion}
			</select>
		</unit>
		<unit id="TcManticArticulosDto">
      <select id="row">
        select      
          *
        from      
          tc_mantic_articulos
        where 
          {condicion} 
      </select>
      <select id="identically">
        select      
          *
        from      
          tc_mantic_articulos
        where      
          id_empaque_unidad_medida = {idEmpaqueUnidadMedida} and id_empresa = {idEmpresa} and id_articulo = {idArticulo} and nombre = '{nombre}'
      </select>
    </unit>
		<unit id="TcManticArticulosCodigosDto">
      <select id="row">
        select      
          *
        from      
          tc_mantic_articulos_codigos
        where 
          {condicion} 
      </select>
      <select id="identically">
        select      
          *
        from      
          tc_mantic_articulos_codigos
        where      
          codigo = '{codigo}' and id_articulo_codigo = {idArticuloCodigo} and id_articulo = {idArticulo}
      </select>
			<select id="maximo">
        select      
          max(id_articulo_codigo) maximo
        from      
          tc_mantic_articulos_codigos
      </select>
			<select id="rows">
        delete from tc_mantic_articulos_codigos where id_articulo= {idArticulo} 
      </select>
    </unit>
		<unit id="TcManticArticulosDescuentosDto">
      <select id="row">
        select      
          *
        from      
          tc_mantic_articulos_descuentos
        where 
          {condicion} 
      </select>
      <select id="identically">
        select      
          *
        from      
          tc_mantic_articulos_descuentos
        where      
          vigencia_final = '{vigenciaFinal}' and vigencia_inicial = '{vigenciaInicial}' and porcentaje = {porcentaje} and id_articulo_descuento = {idArticuloDescuento}
      </select>
			<select id="maximo">
        select      
          max(id_articulo_descuento) maximo
        from      
          tc_mantic_articulos_descuentos
      </select>
			 <select id="rows">
        delete from tc_mantic_articulos_descuentos where id_articulo= {idArticulo} 
      </select>
    </unit>
		<unit id="TcManticArticulosDiseniosDto">
      <select id="row">
        select      
          *
        from      
          tc_mantic_articulos_disenios
        where 
          {condicion} 
      </select>
      <select id="identically">
        select      
          *
        from      
          tc_mantic_articulos_disenios
        where      
          id_articulo_disenio = {idArticuloDisenio} and id_articulo = {idArticulo} and nombre = '{nombre}'
      </select>
    </unit>
		<unit id="TcManticArticulosEspecificacionesDto">
      <select id="row">
        select      
          *
        from      
          tc_mantic_articulos_especificaciones
        where 
          {condicion} 
      </select>
      <select id="identically">
        select      
          *
        from      
          tc_mantic_articulos_especificaciones
        where      
          id_articulo_especificacion = {idArticuloEspecificacion} and id_articulo = {idArticulo} and nombre = '{nombre}'
      </select>
			<select id="maximo">
        select      
          max(id_articulo_especificacion) maximo
        from      
          tc_mantic_articulos_especificaciones
      </select>
			<select id="rows">
        delete from tc_mantic_articulos_especificaciones where id_articulo={idArticulo} 
      </select>
    </unit>
		<unit id="TcManticArticulosDimencionesDto">
      <select id="row">
        select      
          *
        from      
          tc_mantic_articulos_dimenciones
        where 
          {condicion} 
      </select>
      <select id="identically">
        select      
          *
        from      
          tc_mantic_articulos_dimenciones
        where      
          id_articulo_dimension = {idArticuloDimension} and id_articulo = {idArticulo}
      </select>
			<select id="maximo">
        select      
          max(id_articulo_dimencion) maximo
        from      
          tc_mantic_articulos_dimenciones
      </select>
			<select id="rows">
        delete from tc_mantic_articulos_dimenciones where id_articulo={idArticulo} 
      </select>
    </unit>
		 <unit id="TcManticProveedoresDto">
      <select id="row">
        select      
          *
        from      
          tc_mantic_proveedores
        where 
          {condicion} 
      </select>
      <select id="identically">
        select      
          *
        from      
          tc_mantic_proveedores
        where      
          id_proveedor = {idProveedor} and razon_social = '{razonSocial}' and id_empresa = {idEmpresa}
      </select>
			<select id="findEmpresa">
        select      
					tc_mantic_proveedores.id_proveedor as id_key,
          tc_mantic_proveedores.*
        from      
          tc_mantic_proveedores
        where 
          tc_mantic_proveedores.id_empresa = {idEmpresa} 
      </select>
    </unit>
		<unit id="TcManticClientesDto">
      <select id="row">
        select      
          *
        from      
          tc_mantic_clientes
        where 
          {condicion} 
      </select>
      <select id="identically">
        select      
          *
        from      
          tc_mantic_clientes
        where      
          id_cliente = {idCliente}
      </select>
			<select id="findEmpresa">
        select      
					tc_mantic_clientes.id_cliente as id_key,
          tc_mantic_clientes.*
        from      
          tc_mantic_clientes
        where 
          tc_mantic_clientes.id_empresa = {idEmpresa} 
      </select>
    </unit>
		<unit id="TcManticTiposVentasDto">
			<select id="row">
				select 
					tc_mantic_tipos_ventas.id_tipo_venta as id_key,
					tc_mantic_tipos_ventas.*
				from 
					tc_mantic_tipos_ventas
				where 
					{condicion}
			</select>			
		</unit>
		<unit id="TcManticImagenesDto">
      <select id="row">
        select      
          *
        from      
          tc_mantic_imagenes
        where 
          {condicion} 
      </select>
      <select id="identically">
        select      
          *
        from      
          tc_mantic_imagenes
        where      
          id_imagen = {idImagen} and id_tipo_imagen = {idTipoImagen} and nombre = '{nombre}'
      </select>
			<select id="rows">
        delete from tc_mantic_imagenes where id_articulo={idArticulo} 
      </select>
    </unit>
		<unit id="TcManticPersonasTitulosDto">
			<select id="row">
				select  
					tc_mantic_personas_titulos.*,
					tc_mantic_personas_titulos.id_persona_titulo as id_key 
				from 
					tc_mantic_personas_titulos 
				where 
					{condicion}
				order by 
					nombre			
			</select>
		</unit>  
		<unit id="TcManticTiposProveedoresDto">
			<select id="row">
				select
					tc_mantic_tipos_proveedores.*,
					tc_mantic_tipos_proveedores.id_tipo_proveedor as id_key
				from
				 tc_mantic_tipos_proveedores
				where
					{condicion}
				order by
					id_tipo_proveedor
			</select>  
		</unit>  
		<unit id="TrManticClienteDomicilioDto">
      <select id="row">
        select      
          *
        from      
          tr_mantic_cliente_domicilio
        where 
          {condicion} 
      </select>
      <select id="identically">
        select      
          *
        from      
          tr_mantic_cliente_domicilio
        where      
          id_cliente = {idCliente} and id_cliente_domicilio = {idClienteDomicilio} and id_tipo_domicilio = {idTipoDomicilio} and id_domicilio = {idDomicilio} and id_principal = {idPrincipal}
      </select>
			<select id="maximo">
        select      
          max(id_cliente_domicilio) maximo
        from      
          tr_mantic_cliente_domicilio
      </select>
			<select id="rows">
        delete from tr_mantic_cliente_domicilio where id_cliente={idCliente}
      </select>
    </unit>	
		<unit id="TrManticClienteTipoContactoDto">
      <select id="row">
        select      
          *
        from      
          tr_mantic_cliente_tipo_contacto
        where 
          {condicion} 
      </select>
      <select id="identically">
        select      
          *
        from      
          tr_mantic_cliente_tipo_contacto
        where      
          id_cliente = {idCliente} and id_cliente_tipo_contacto = {idClienteTipoContacto} and id_tipo_contacto = {idTipoContacto}
      </select>
			<select id="maximo">
        select      
          max(id_cliente_tipo_contacto) maximo
        from      
          tr_mantic_cliente_tipo_contacto
      </select>
			<select id="rows">
        delete from tr_mantic_cliente_tipo_contacto where id_cliente= {idCliente}
      </select>
    </unit>		
    <unit id="TcManticDomiciliosDto">
			<select id="row">
				select 
					tc_mantic_domicilios.*,
                    tc_mantic_domicilios.id_domicilio as id_key 
				from 
					tc_mantic_domicilios
                where
                   {condicion}
                order by
                  calle
			</select>
    
      <select id="identically">
        select      
          *
        from      
          tc_mantic_domicilios
        where      
          id_domicilio = {idDomicilio}
      </select>
			<select id="comboDomicilios">
				select 
					id_domicilio as id_key, descripcion
				from 
					tc_mantic_domicilios
			</select>
			<select id="codigosPostales">
				select   
					id_domicilio AS id_key,
					codigo_postal
				from 
				  tc_mantic_domicilios
				where 
					id_localidad = {idLocalidad}
				group by 
					codigo_postal
			</select>
			<select id="domicilios">
				select   
					id_domicilio as id_key,
					concat(calle,' ',numero_exterior,' ',asentamiento) as domicilio          
				from 
					tc_mantic_domicilios
				where 
					id_localidad = {idLocalidad}
				and 
				  codigo_postal= '{codigoPostal}'
			</select>
    </unit>	
    <unit id="TcManticTiposContactosDto">
      <select id="row">
        select
          tc_mantic_tipos_contactos.*,
          tc_mantic_tipos_contactos.id_tipo_contacto as id_key
        from
          tc_mantic_tipos_contactos
        where 
          {condicion}
        order by
          id_tipo_medio,orden     
      </select>  
    </unit>  
        	
  </dml>    
</process>
